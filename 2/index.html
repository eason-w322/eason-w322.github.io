<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CS180 Project 1 — Colorizing the Prokudin-Gorskii Photos</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
<header class="site-header">
  <h1>Colorizing the Prokudin-Gorskii Photos</h1>
  <p class="subtitle">CS180/280A • Project 1</p>
</header>

<main class="container">
  <nav class="toc">
    <a href="#overview">Overview</a>
    <a href="#approach">Approach</a>
    <a href="#pyramid">Pyramid</a>
    <a href="#results">Results</a>
  </nav>

  <section class="content">
    <section id="overview" class="card">
      <h2>Overview</h2>
      <p>
        Compose color images from glass plates (top=Blue, middle=Green, bottom=Red).
        Align G and R to B using windowed search (+ ZNCC) and a coarse-to-fine pyramid for big images.
      </p>
    </section>

    <section id="approach" class="card">
      <h2>Single-Scale Alignment</h2>
      <ul>
        <li>Split tall plate into B/G/R thirds; crop borders to avoid artifacts.</li>
        <li>Exhaustive search in a small window via <em>normalized cross-correlation</em> (ZNCC).</li>
        <li>Shift with <code>np.roll</code>, stack as RGB, clamp and save.</li>
      </ul>
    </section>

    <section id="pyramid" class="card">
      <h2>Image Pyramid (Coarse → Fine)</h2>
      <ol>
        <li>Downsample by factor 2 until min(H,W) is small.</li>
        <li>Search at coarsest level; upscale displacement; refine in a ±r window at each finer level.</li>
        <li>Optionally use gradient magnitude for robust matching (exposure differences).</li>
      </ol>
    </section>

    <section id="results" class="card">
      <h2>Results</h2>

      <!-- Compare slider (optional). Replace images with your own in docs/results/ -->
      <div class="compare">
        <img class="img after" src="results/emir_rgb.jpg" alt="After (aligned RGB)">
        <img class="img before" src="results/emir_rgb.jpg" alt="Before (placeholder)">
        <input class="slider" type="range" min="0" max="100" value="50" aria-label="Compare slider">
      </div>
      <p class="caption">Drag to compare (use your own before/after if you have one).</p>

      <!-- Grid of outputs -->
      <div class="grid">
        <figure class="tile">
          <img src="results/cathedral_rgb.jpg" alt="Cathedral">
          <figcaption>
            <strong>Cathedral</strong>
            <div class="meta">Offsets G(dy,dx)=…, R(dy,dx)=…</div>
          </figcaption>
        </figure>

        <figure class="tile">
          <img src="results/tobolsk_rgb.jpg" alt="Tobolsk">
          <figcaption>
            <strong>Tobolsk</strong>
            <div class="meta">Offsets G(dy,dx)=…, R(dy,dx)=…</div>
          </figcaption>
        </figure>

        <figure class="tile">
          <img src="results/emir_rgb.jpg" alt="Emir">
          <figcaption>
            <strong>Emir</strong>
            <div class="meta">Offsets G(dy,dx)=…, R(dy,dx)=…</div>
          </figcaption>
        </figure>
      </div>
    </section>
  </section>
</main>

<footer class="site-footer">
  <p>© 2025 Your Name • CS180/280A</p>
</footer>

<script src="compare.js"></script>
</body>
</html>
